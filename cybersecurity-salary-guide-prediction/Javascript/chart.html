<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cybersecurity Salary Pie Chart (2026)</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

  <div id="salaryPie" style="width:900px;height:500px;"></div>

  <script>

    function predict2026(example) {
    // Just return dummy salaries based on role
    const salaries = {
      "Cybersecurity Engineer": { finalMid: 120000 },
      "Cloud Security Engineer": { finalMid: 160000 },
      "SOC Analyst": { finalMid: 75000 }
    };
    return salaries[example.role] || { finalMid: 90000 };
  }
    // --- reuse your existing predict2026 code above this line ---

    const examples = [
      {
        role: "Cybersecurity Engineer",
        level: "Mid",
        yearsExperience: 4,
        state: "TX",
        skills: ["siem", "soar", "zero_trust", "cissp"],
      },
      {
        role: "Cloud Security Engineer",
        level: "Senior",
        yearsExperience: 9,
        state: "CA",
        skills: ["aws_security", "kubernetes", "terraform", "cnapp", "ccsp"],
      },
      {
        role: "SOC Analyst",
        level: "Entry",
        yearsExperience: 1,
        state: "REMOTE",
        skills: ["siem", "edr", "security_plus"],
      },
    ];

    // Run predictions
    const results = examples.map(ex => ({
      label: `${ex.role} (${ex.state}, ${ex.level})`,
      value: predict2026(ex).finalMid
    }));

    // Prepare Plotly data
    const data = [{
      type: "pie",
      labels: results.map(r => r.label),
      values: results.map(r => r.value),
      textinfo: "label+percent",
      hovertemplate:
        "<b>%{label}</b><br>" +
        "Predicted 2026 Salary: $%{value:,.0f}<br>" +
        "<extra></extra>"
    }];

    const layout = {
      title: "Predicted 2026 Cybersecurity Salaries (Relative Comparison)",
      showlegend: true
    };

    Plotly.newPlot("salaryPie", data, layout);
  </script>

</body>
</html>
